{
    "dataset_reader": {
        "type": "seq2seq",
        "end_symbol": "ENDSYMBOL",
        "source_max_tokens": 64,
        "source_tokenizer": {
            "type": "spacy",
            "language": "ja_core_news_sm"
        },
        "start_symbol": "STARTSYMBOL",
        "target_max_tokens": 64,
        "target_tokenizer": {
            "type": "spacy",
            "language": "ja_core_news_sm"
        }
    },
    "model": {
        "type": "composed_seq2seq",
        "decoder": {
            "type": "auto_regressive_seq_decoder",
            "beam_size": 4,
            "decoder_net": {
                "type": "lstm_cell",
                "decoding_dim": 8,
                "target_embedding_dim": 8
            },
            "max_decoding_steps": 64,
            "target_embedder": {
                "embedding_dim": 8
            },
            "target_namespace": "tokens",
            "tensor_based_metric": {
                "type": "bleu"
            },
            "tie_output_embedding": true,
            "token_based_metric": null
        },
        "encoder": {
            "type": "lstm",
            "bidirectional": true,
            "hidden_size": 4,
            "input_size": 8,
            "num_layers": 1
        },
        "source_text_embedder": {
            "type": "basic",
            "token_embedders": {
                "tokens": {
                    "type": "embedding",
                    "embedding_dim": 8
                }
            }
        },
        "tied_source_embedder_key": "tokens"
    },
    "train_data_path": "tests/fixtures/jwtd_sample.tsv",
    "validation_data_path": "tests/fixtures/jwtd_sample.tsv",
    "trainer": {
        "checkpointer": {
            "num_serialized_models_to_keep": 2
        },
        "cuda_device": -1,
        "grad_clipping": null,
        "grad_norm": 5,
        "num_epochs": 10,
        "optimizer": {
            "type": "adam",
            "betas": [
                0.9,
                0.98
            ],
            "eps": 1e-09,
            "weight_decay": 0.01
        },
        "patience": 5,
        "tensorboard_writer": {
            "histogram_interval": 10000,
            "should_log_learning_rate": true,
            "summary_interval": 100
        },
        "validation_metric": "+BLEU"
    },
    "data_loader": {
        "type": "pytorch_dataloader",
        "batch_sampler": {
            "type": "bucket",
            "batch_size": 2,
            "sorting_keys": [
                "source_tokens",
                "target_tokens"
            ]
        },
        "num_workers": 2
    }
}